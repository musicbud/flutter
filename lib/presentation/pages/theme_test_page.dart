import 'package:flutter/material.dart';\nimport '../../services/dynamic_theme_service.dart';\nimport '../../core/design_system/design_system.dart';\n\n/// Simple theme test page to verify dynamic theme system\nclass ThemeTestPage extends StatefulWidget {\n  const ThemeTestPage({super.key});\n\n  @override\n  State<ThemeTestPage> createState() => _ThemeTestPageState();\n}\n\nclass _ThemeTestPageState extends State<ThemeTestPage> {\n  final DynamicThemeService _themeService = DynamicThemeService.instance;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Theme Test'),\n        actions: [\n          IconButton(\n            icon: const Icon(Icons.brightness_6),\n            onPressed: () async {\n              // Toggle between light and dark theme\n              final currentMode = _themeService.themeMode;\n              final newMode = currentMode == ThemeMode.light \n                  ? ThemeMode.dark \n                  : ThemeMode.light;\n              await _themeService.setThemeMode(newMode);\n              \n              // Show feedback\n              if (mounted) {\n                ScaffoldMessenger.of(context).showSnackBar(\n                  SnackBar(\n                    content: Text('Switched to ${newMode.name} theme'),\n                    duration: const Duration(seconds: 2),\n                  ),\n                );\n              }\n            },\n          ),\n        ],\n      ),\n      body: SingleChildScrollView(\n        padding: const EdgeInsets.all(16.0),\n        child: Column(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            // Color Showcase\n            _buildSection(\n              title: 'Colors',\n              child: Column(\n                children: [\n                  _buildColorTile('Primary Red', MusicBudColors.primaryRed),\n                  _buildColorTile('Accent', MusicBudColors.accent),\n                  _buildColorTile('Background Primary', MusicBudColors.backgroundPrimary),\n                  _buildColorTile('Background Secondary', MusicBudColors.backgroundSecondary),\n                  _buildColorTile('Text Primary', MusicBudColors.textPrimary),\n                  _buildColorTile('Text Secondary', MusicBudColors.textSecondary),\n                ],\n              ),\n            ),\n            \n            const SizedBox(height: 32),\n            \n            // Typography Showcase\n            _buildSection(\n              title: 'Typography',\n              child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                children: [\n                  Text('Heading 1', style: MusicBudTypography.heading1),\n                  const SizedBox(height: 8),\n                  Text('Heading 2', style: MusicBudTypography.heading2),\n                  const SizedBox(height: 8),\n                  Text('Heading 3', style: MusicBudTypography.heading3),\n                  const SizedBox(height: 8),\n                  Text('Body Large', style: MusicBudTypography.bodyLarge),\n                  const SizedBox(height: 8),\n                  Text('Body Medium', style: MusicBudTypography.bodyMedium),\n                  const SizedBox(height: 8),\n                  Text('Label Large', style: MusicBudTypography.labelLarge),\n                ],\n              ),\n            ),\n            \n            const SizedBox(height: 32),\n            \n            // Components Showcase\n            _buildSection(\n              title: 'Components',\n              child: Column(\n                children: [\n                  // Cards\n                  Card(\n                    child: Padding(\n                      padding: const EdgeInsets.all(16.0),\n                      child: Column(\n                        children: [\n                          Text('Card Component', style: MusicBudTypography.heading4),\n                          const SizedBox(height: 8),\n                          Text('This is a sample card with themed styling.',\n                              style: MusicBudTypography.bodyMedium),\n                        ],\n                      ),\n                    ),\n                  ),\n                  \n                  const SizedBox(height: 16),\n                  \n                  // Buttons\n                  Row(\n                    mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n                    children: [\n                      ElevatedButton(\n                        onPressed: () {},\n                        child: const Text('Primary'),\n                      ),\n                      OutlinedButton(\n                        onPressed: () {},\n                        child: const Text('Secondary'),\n                      ),\n                      TextButton(\n                        onPressed: () {},\n                        child: const Text('Text'),\n                      ),\n                    ],\n                  ),\n                  \n                  const SizedBox(height: 16),\n                  \n                  // Text Field\n                  const TextField(\n                    decoration: InputDecoration(\n                      labelText: 'Sample Input',\n                      hintText: 'Type something...',\n                    ),\n                  ),\n                ],\n              ),\n            ),\n            \n            const SizedBox(height: 32),\n            \n            // Theme Info\n            _buildSection(\n              title: 'Theme Info',\n              child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                children: [\n                  Text('Current theme: ${_themeService.currentThemeName}',\n                       style: MusicBudTypography.bodyLarge),\n                  const SizedBox(height: 8),\n                  Text('Animations enabled: ${_themeService.animationsEnabled}',\n                       style: MusicBudTypography.bodyMedium),\n                  const SizedBox(height: 8),\n                  Text('Compact mode: ${_themeService.compactMode}',\n                       style: MusicBudTypography.bodyMedium),\n                ],\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n  \n  Widget _buildSection({required String title, required Widget child}) {\n    return Column(\n      crossAxisAlignment: CrossAxisAlignment.start,\n      children: [\n        Text(title, style: MusicBudTypography.heading2),\n        const SizedBox(height: 16),\n        child,\n      ],\n    );\n  }\n  \n  Widget _buildColorTile(String name, Color color) {\n    return Container(\n      margin: const EdgeInsets.only(bottom: 8),\n      padding: const EdgeInsets.all(12),\n      decoration: BoxDecoration(\n        color: color,\n        borderRadius: BorderRadius.circular(MusicBudSpacing.radiusMd),\n      ),\n      child: Row(\n        children: [\n          Text(\n            name,\n            style: MusicBudTypography.labelLarge.copyWith(\n              color: _getContrastColor(color),\n            ),\n          ),\n          const Spacer(),\n          Text(\n            '#${color.value.toRadixString(16).substring(2).toUpperCase()}',\n            style: MusicBudTypography.labelMedium.copyWith(\n              color: _getContrastColor(color),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n  \n  Color _getContrastColor(Color backgroundColor) {\n    // Simple contrast calculation\n    final luminance = backgroundColor.computeLuminance();\n    return luminance > 0.5 ? Colors.black : Colors.white;\n  }\n}\n